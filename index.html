<html>
<head></head>
<body>
<h1>Open Contracts Interface </h1>
<div>
<a href="https://github.com/open-contracts/open-contracts.github.io"> (website source code)</a>
</div>
<br />

<script charset="utf-8" src="https://unpkg.com/@metamask/detect-provider/dist/detect-provider.min.js" type="text/javascript"> </script>
<script charset="utf-8" src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.4.6/ethers.umd.min.js" type="text/javascript"> </script>
<script charset="utf-8" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" type="text/javascript"> </script>

<script charset="utf-8" src="dependencies/cbor.js" type="text/javascript"></script>
<script charset="utf-8" src="dependencies/cose.js" type="text/javascript"> </script>
<script charset="utf-8" src="dependencies/x509.js" type="text/javascript"> </script>
<script charset="utf-8" src="dependencies/base64.js" type="text/javascript"> </script>
<script charset="utf-8" src="dependencies/github_files.js" type="text/javascript"> </script>
<script charset="utf-8" src="main.js" type="text/javascript"> </script>

<p>
For now, testnet only.
Make sure you have Metamask installed and are connected to the Ropsten testnet. Also make sure you have some Ropsten Test Ether in your account to pay for Gas fees.
</p>
<div>
<form id="OpenContractForm" action="javascript:void(0);">
	<label for="network"><b>Metamask connected to: </b></label><em id="network"> awaiting connection...</em>
	<br />
	<label for="contractGithub"><b>Contract Repo:</b></label>
	<input id="contractGithub" type="text" value="open-contracts/sample-contract/main" size="60" />
	<br />
	<input type="submit" value="Load Contract" onclick="loadOpenContract()" />
</form>
</div>
<div id="tokenActions"></div>
<br />
<div id="contractName"></div>
<div id="functionNames"></div>
<br />
<div id="currentFunction"></div>
<div id="results"></div>
<hr>
Make sure you install <a href="registryRootCA.crt"> this certificate </a>  as a trusted (root) certificate authority in your browser/system.
<p>
<form id="getOracleIP"  action="javascript:void(0);">
	<label for="registryIP"><b>Registry IP:</b></label>
	<input id="registryIP" type="text" value="" size="60" disabled="true"/>
	<script type="text/javascript">document.getElementById("registryIP").value = new URLSearchParams(window.location.search).get("registryIP")</script>
</form><br><br>

<form id="connectOracle" action="javascript:void(0);">
	<label for="oracleIP"><b>Oracle IP:</b></label>
	<input id="oracleIP" type="text" value="" size="60"  disabled="true"/>
</form>
<u>Enclave Output:</u><br>
<hr>
<div id="enclaveOutput"></div>
<hr>
<div id="hubTX"></div>
</body>
</html>
